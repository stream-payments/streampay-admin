import{r,b as h,cH as f,a as e,j as s,B as b,cI as y,F as w,k as N}from"./index-edbddc4c.js";import{a as x,M as S}from"./index.esm-b631137a.js";import{S as u,L as v}from"./login-layout-0c03612b.js";import{C}from"./index-546377c5.js";import{S as E}from"./index-195b1820.js";import"./index-6e57eecc.js";const k=({toResetPassword:a})=>{const[t,l]=r.useState(!1),{register:n,handleSubmit:i,reset:c}=x(),m=h(),o=f();return e("form",{onSubmit:i(d=>{o.mutate(d,{onSuccess:()=>{m("/a/orders")},onError:()=>{l(!0),c()}})}),children:s("div",{className:"flex flex-col items-center",children:[e("span",{className:"inter-2xlarge-semibold mt-4 text-grey-90",children:"Welcome back!"}),e("span",{className:"inter-base-regular text-grey-50 mt-2",children:"It's great to see you 👋🏼"}),e("span",{className:"inter-base-regular text-grey-50 mb-xlarge",children:"Log in to your account below"}),e(u,{placeholder:"Email...",...n("email",{required:!0}),autoComplete:"email"}),e(u,{placeholder:"Password...",type:"password",...n("password",{required:!0}),autoComplete:"current-password"}),t&&e("span",{className:"text-rose-50 w-full mt-2 inter-small-regular",children:"These credentials do not match our records"}),e(b,{className:"rounded-rounded mt-4 w-[320px] inter-base-regular",variant:"primary",size:"large",type:"submit",loading:o.isLoading,children:"Continue"}),e("span",{className:"inter-small-regular text-grey-50 mt-8 cursor-pointer",onClick:a,children:"Reset password"})]})})},L=/^\S+@\S+$/i,I=({goBack:a})=>{const[t,l]=r.useState(!1),[n,i]=r.useState(!1),[c,m]=r.useState(!1),{register:o,handleSubmit:p}=x(),d=y();return e("form",{onSubmit:p(g=>{if(!L.test(g.email)){i(!0);return}i(!1),l(!1),d.mutate({email:g.email},{onSuccess:()=>{m(!0)},onError:()=>{l(!0)}})}),children:s("div",{className:"flex flex-col items-center",children:[e("span",{className:"inter-2xlarge-semibold mt-base text-grey-90",children:"Reset your password"}),s("span",{className:"inter-base-regular text-grey-50 mt-xsmall text-center",children:["Enter your email address below, and we'll send you",e("br",{}),"instructions on how to reset your password."]}),c?s("div",{className:"text-violet-60 rounded-rounded bg-violet-10 p-base flex gap-x-small mt-large",children:[e("div",{children:e(C,{size:20})}),s("div",{className:"flex flex-col gap-y-2xsmall",children:[e("span",{className:"inter-small-semibold",children:"Successfully sent you an email"}),e("span",{className:"inter-small-regular",children:"We've sent you an email which you can use to reset your password. Check your spam folder if you haven't received it after a few minutes."})]})]}):s(w,{children:[e(u,{placeholder:"lebron@james.com...",...o("email",{required:!0}),className:"mb-0 mt-xlarge"}),t&&e("div",{className:"mt-xsmall w-[318px]",children:e("span",{className:"inter-small-regular text-rose-50 text-left",children:"We can't find a user with that email address"})}),n&&e("div",{className:"mt-xsmall w-[318px]",children:e("span",{className:"inter-small-regular text-rose-50 text-left",children:"Not a valid email address"})}),e("button",{className:"text-grey-0 w-[320px] h-[48px] border rounded-rounded mt-4 bg-violet-50 inter-base-regular py-3 px-4",type:"submit",children:"Send reset instructions"})]}),e("span",{className:"inter-small-regular text-grey-50 mt-8 cursor-pointer",onClick:a,children:"Go back to sign in"})]})})},F=()=>{const[a,t]=r.useState(!1);return s(v,{children:[e(E,{title:"Login"}),e("div",{className:"flex h-full w-full items-center justify-center",children:e("div",{className:N("flex min-h-[600px] w-[640px] bg-grey-0 rounded-rounded justify-center transition-['min-height'] duration-300",{"min-h-[480px]":a}),children:s("div",{className:"flex flex-col pt-12 w-full px-[120px] items-center",children:[e(S,{}),a?e(I,{goBack:()=>t(!1)}):e(k,{toResetPassword:()=>t(!0)})]})})})]})};export{F as default};
